{
  "name": "shopify-fulfillment-to-jedi-940",
  "type": "merge_with_target_example",
  "mapping": "{\n  \"interchanges\": [\n    {\n      \"interchange_control_header_ISA\": {\n        \"authorization_information_qualifier_01\": undefined,\n        \"authorization_information_02\": undefined,\n        \"security_information_qualifier_03\": undefined,\n        \"security_information_04\": undefined,\n        \"interchange_id_qualifier_05\": undefined,\n        \"interchange_sender_id_06\": undefined,\n        \"interchange_id_qualifier_07\": undefined,\n        \"interchange_receiver_id_08\": undefined,\n        \"interchange_date_09\": $now(\"[Y01][M01][D01]\"),\n        \"interchange_time_10\": $now(\"[H][m]\"),\n        \"repetition_separator_11\": undefined,\n        \"interchange_control_version_number_12\": undefined,\n        \"interchange_control_number_13\": undefined,\n        \"acknowledgment_requested_14\": undefined,\n        \"interchange_usage_indicator_15\": undefined,\n        \"component_element_separator_16\": undefined\n      },\n      \"groups\": [\n        {\n          \"functional_group_header_GS\": {\n            \"functional_identifier_code_01\": undefined,\n            \"application_senders_code_02\": undefined,\n            \"application_receivers_code_03\": undefined,\n            \"date_04\": $now(\"[Y0][M01][D01]\"),\n            \"time_05\": $now(\"[H][m]\"),\n            \"group_control_number_06\": undefined,\n            \"responsible_agency_code_07\": undefined,\n            \"version_release_industry_identifier_code_08\": undefined\n          },\n          \"transaction_sets\": [\n            {\n              \"heading\": {\n                \"transaction_set_header_ST\": { \"transaction_set_identifier_code_01\": undefined, \"transaction_set_control_number_02\": undefined },\n                \"shipping_order_identification_W05\": {\n                  \"order_status_code_01\": undefined,\n                  \"depositor_order_number_02\": $string(line_items[0].fulfillment_order_id),\n                  \"purchase_order_number_03\": $string(order_id)\n                },\n                \"party_identification_N1_loop\": [\n                  {\n                    \"party_identification_N1\": {\n                      \"entity_identifier_code_01\": undefined,\n                      \"name_02\": $string(destination.first_name) & \" \" & $string(destination.last_name)\n                    },\n                    \"party_location_N3\": [{ \"address_information_01\": destination.address1, \"address_information_02\": destination.address2 }],\n                    \"geographic_location_N4\": {\n                      \"city_name_01\": destination.city,\n                      \"state_or_province_code_02\": \"ON\",\n                      \"postal_code_03\": destination.zip,\n                      \"country_code_04\": (\n                        $code := destination.country;\n                        $code = \"Canada\"\n                          ? \"CA\"\n                          : $code = \"United States\"\n                            ? \"US\"\n                      )\n                    }\n                  }\n                ],\n                \"date_time_G62\": [\n                  {\n                    \"date\": $convertDateTime(merchant_requests[0].request_options.date, \"yyyy-MM-dd'T'HH:mm:ssXXX\", $dateTime.EDIDateLong),\n                    \"qualifier\": \"10\"\n                  },\n                  { \"date\": $convertDateTime(fulfill_at, \"yyyy-MM-dd\", $dateTime.EDIDateLong), \"qualifier\": \"02\" }\n                ]\n                  .{ \"date_qualifier_01\": qualifier, \"date_02\": date }[],\n                \"warehouse_carrier_information_W66\": {\n                  \"shipment_method_of_payment_01\": undefined,\n                  \"transportation_method_type_code_02\": undefined,\n                  \"standard_carrier_alpha_code_10\": $lookupTable($tables.carrier, \"ID\", delivery_method.method_type).SCAC\n                }\n              },\n              \"detail\": {\n                \"transaction_set_line_number_LX_loop\": [\n                  {\n                    \"transaction_set_line_number_LX\": { \"assigned_number_01\": undefined },\n                    \"line_item_detail_warehouse_W01_loop\": $$\n                      .line_items\n                      .{\n                        \"line_item_detail_warehouse_W01\": {\n                          \"quantity_01\": $string($number(quantity)),\n                          \"unit_or_basis_for_measurement_code_02\": \"EA\",\n                          \"upc_case_code_03\": $string($number(id)),\n                          \"product_service_id_qualifier_04\": $omitField,\n                          \"product_service_id_05\": $omitField\n                        }\n                      }[]\n                  }\n                ]\n              },\n              \"summary\": {\n                \"transaction_set_trailer_SE\": { \"number_of_included_segments_01\": undefined, \"transaction_set_control_number_02\": undefined }\n              },\n              \"set\": undefined\n            }\n          ],\n          \"functional_group_trailer_GE\": { \"number_of_transaction_sets_included_01\": undefined, \"group_control_number_02\": undefined },\n          \"release\": undefined\n        }\n      ],\n      \"interchange_control_trailer_IEA\": { \"number_of_included_functional_groups_01\": undefined, \"interchange_control_number_02\": undefined },\n      \"delimiters\": { \"element\": undefined, \"segment\": undefined, \"sub_element\": undefined, \"repetition\": undefined }\n    }\n  ],\n  \"__version\": undefined\n}"
}